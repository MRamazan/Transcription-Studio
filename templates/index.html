<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Transcription Studio</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="background-pattern"></div>
    
    <div class="container">
        <header class="header">
            <div class="logo">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="40" height="40" rx="8" fill="url(#gradient1)"/>
                    <path d="M20 10L28 16V24L20 30L12 24V16L20 10Z" fill="white" opacity="0.9"/>
                    <circle cx="20" cy="20" r="4" fill="#0066FF"/>
                    <defs>
                        <linearGradient id="gradient1" x1="0" y1="0" x2="40" y2="40">
                            <stop offset="0%" stop-color="#0066FF"/>
                            <stop offset="100%" stop-color="#0099FF"/>
                        </linearGradient>
                    </defs>
                </svg>
                <span>Transcription Studio</span>
            </div>
        </header>

        <main class="main-content">
            <div class="upload-section" id="uploadSection">
                <div class="upload-card">
                    <div class="icon-wrapper">
                        <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
                            <circle cx="32" cy="32" r="32" fill="url(#iconGradient)"/>
                            <path d="M32 20V36M32 20L26 26M32 20L38 26" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                            <rect x="20" y="38" width="24" height="4" rx="2" fill="white"/>
                            <defs>
                                <linearGradient id="iconGradient" x1="0" y1="0" x2="64" y2="64">
                                    <stop offset="0%" stop-color="#0066FF"/>
                                    <stop offset="100%" stop-color="#0099FF"/>
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                    
                    <h1>Upload Your Video</h1>
                    <p class="subtitle">Transform speech into text with AI-powered transcription</p>
                    
                    <form id="uploadForm" enctype="multipart/form-data">
                        <div class="file-input-wrapper">
                            <input type="file" id="videoInput" name="video" accept="video/*" required>
                            <label for="videoInput" class="file-label">
                                <span class="file-text">Choose Video File or Drag & Drop Here</span>
                            </label>
                        </div>
                        
                        <div class="language-selector">
                            <label for="languageSelect">Language</label>
                            <select id="languageSelect" name="language">
                                <option value="auto">Auto Detect</option>
                                <option value="en">English</option>
                                <option value="es">Spanish</option>
                                <option value="fr">French</option>
                                <option value="de">German</option>
                                <option value="it">Italian</option>
                                <option value="pt">Portuguese</option>
                                <option value="ru">Russian</option>
                                <option value="ja">Japanese</option>
                                <option value="ko">Korean</option>
                                <option value="zh">Chinese</option>
                                <option value="ar">Arabic</option>
                                <option value="hi">Hindi</option>
                                <option value="tr">Turkish</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="btn-primary" id="transcribeBtn">
                            <span>Start Transcription</span>
                        </button>
                    </form>
                </div>
            </div>

            <div class="progress-section" id="progressSection" style="display: none;">
                <div class="progress-card">
                    <div class="spinner"></div>
                    <h2>Processing Your Video</h2>
                    <p id="progressText">Transcribing audio...</p>
                </div>
            </div>

            <div class="results-section" id="resultsSection" style="display: none;">
                <div class="results-header">
                    <h2>Transcription Complete</h2>
                    <button class="btn-secondary" id="newVideoBtn">
                        <span>New Video</span>
                    </button>
                </div>

                <div class="video-player-container">
                    <video id="videoPlayer" controls></video>
                    <div class="subtitles-overlay" id="subtitlesOverlay"></div>
                </div>

                <div class="transcription-card">
                    <div class="card-header">
                        <h3>Transcription</h3>
                        <div class="language-badge" id="detectedLanguage"></div>
                    </div>
                    <div class="transcription-text" id="transcriptionText"></div>
                </div>

                <div class="segments-card">
                    <h3>Timeline Segments</h3>
                    <div class="segments-list" id="segmentsList"></div>
                </div>

                <div class="actions-bar">
                    <button class="btn-download btn-srt" id="downloadSrtBtn">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 3V13M10 13L6 9M10 13L14 9" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M3 17H17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span>Download Subtitles (SRT)</span>
                    </button>
                    <button class="btn-download" id="downloadBtn">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 3V13M10 13L6 9M10 13L14 9" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M3 17H17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span>Download Video with Subtitles</span>
                    </button>
                </div>
            </div>
        </main>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
